using UnityEngine;

public class SmoothCamera : MonoBehaviour
{
	public Transform target;
	public float distance = 10.0f;
	public float height = 5.0f;
	public float heightDamping = 2.0f;
	public float followDamping = 5.0f;

	void LateUpdate()
	{
		if (!target)
			return;

		// Calculează înălțimea dorită a camerei
		float wantedHeight = target.position.y + height;

		// Calculează poziția dorită a camerei
		Vector3 wantedPosition = target.position - target.forward * distance;
		wantedPosition.y = wantedHeight;

		// Interpolare pentru înălțimea camerei
		float currentHeight = Mathf.Lerp(transform.position.y, wantedHeight, heightDamping * Time.deltaTime);

		// Interpolare pentru poziția camerei
		Vector3 currentPosition = Vector3.Lerp(transform.position, wantedPosition, followDamping * Time.deltaTime);
		currentPosition.y = currentHeight;

		// Aplică poziția și orientarea camerei
		transform.position = currentPosition;
		transform.LookAt(target);
	}
}
